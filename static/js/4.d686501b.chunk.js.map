{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","props","className","classes","item","src","message","quantityLikes","maxLength10","maxLengthCreator","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPosts","postsElements","posts","reverse","map","p","likesCount","id","postsBlock","values","dispatch","text","newPostText","reset","addPost","MyPostsContainer","connect","state","profilePage","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","fieldStatus","onDoubleClick","ProfileInfo","profile","isOwner","savePhoto","profileInfo","descriptionBlock","photos","small","DefaultIcon","photoUser","userName","fullName","type","target","files","length","aboutUser","aboutMe","Preloader","Profile","classForProfileInfo","ProfileContainer","userId","this","match","params","userID","authorizedUserId","user","getStatus","refreshProfile","prevProps","prevState","React","Component","compose","auth","isAuth","withRouter","WithAuthRedirect"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,iBAAmB,sCAAsC,SAAW,8BAA8B,UAAY,+BAA+B,UAAY,+BAA+B,YAAc,mC,oBCAvQD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,yB,oBCAnED,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,oBAAsB,uC,6LCWzBC,EAXF,SAACC,GACV,OACI,sBAAKC,UAAWC,IAAQC,KAAxB,UACI,qBAAKC,IAAI,yDACRJ,EAAMK,QACP,8BACI,iCAAOL,EAAMM,cAAb,iB,0CCmBVC,EAAcC,YAAiB,IAgB/BC,EAAmBC,YAAU,CAC/BC,KAAM,2BADeD,EAdT,SAACV,GACb,OACI,uBAAMY,SAAUZ,EAAMa,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,KAAK,cAAcC,YAAY,aACvDC,SAAU,CAACC,IAAUb,OAE7B,8BACI,sDAUDc,EAvCC,SAACrB,GACb,IAAIsB,EAAgB,YAAItB,EAAMuB,OAAOC,UAAUC,KAAI,SAAAC,GAAC,OAChD,cAAC,EAAD,CAAMrB,QAASqB,EAAErB,QAASC,cAAeoB,EAAEC,YAAiBD,EAAEE,OAMlE,OACI,sBAAK3B,UAAWC,IAAQ2B,WAAxB,UACI,0CACA,cAACpB,EAAD,CAAkBG,SART,SAACkB,EAAQC,GACtB,IAAIC,EAAOF,EAAOG,YAClBF,EAASG,YAAM,4BACflC,EAAMmC,QAAQH,MAMV,qBAAK/B,UAAWC,IAAQqB,MAAxB,SACKD,QCNFc,EAFUC,aAPH,SAACC,GACnB,MAAO,CACHf,MAAOe,EAAMC,YAAYhB,MACzBU,YAAaK,EAAMC,YAAYN,eAIW,CAACE,aAA1BE,CAAoChB,G,6DCuB9CmB,EAhCgB,SAACxC,GAC5B,MAA8ByC,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAASzC,EAAM4C,QAAzC,mBAAKA,EAAL,KAAaC,EAAb,KAKAC,qBAAU,WACND,EAAU7C,EAAM4C,UACjB,CAAC5C,EAAM4C,SAQV,OACI,yCAEMF,EAII,8BACE,uBAAOK,SArBA,SAACC,GACpBH,EAAUG,EAAEC,cAAcC,QAoBmBC,WAAW,EAAMD,MAAON,EAAQQ,OAZrD,WACxBT,GAAY,GACZ3C,EAAMqD,aAAaT,QAMT,8BACE,qBAAK3C,UAAWC,IAAQoD,YAAaC,cAZ3B,WACtBZ,GAAY,IAWA,SAAyE3C,EAAM4C,eCUpFY,EA7BK,SAAC,GAAyD,IAAxDC,EAAuD,EAAvDA,QAASb,EAA8C,EAA9CA,OAAQS,EAAsC,EAAtCA,aAAcK,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,UAM1D,OAAKF,EAOG,sBAAKxD,UAAWC,IAAQ0D,YAAxB,UACI,sBAAK3D,UAAWC,IAAQ2D,iBAAxB,UACI,qBAAKzD,IAA6B,MAAxBqD,EAAQK,OAAOC,MAAgBN,EAAQK,OAAOC,MAAQC,IAAa/D,UAAWC,IAAQ+D,YAChG,qBAAKhE,UAAWC,IAAQgE,SAAxB,SAAmCT,EAAQU,WAC1CT,GAAW,uBAAOU,KAAM,OAAQrB,SAhBrB,SAACC,GACtBA,EAAEqB,OAAOC,MAAMC,QACdZ,EAAUX,EAAEqB,OAAOC,MAAM,UAgBrB,sBAAKrE,UAAWC,IAAQsE,UAAxB,UACI,cAAC,EAAD,CAAwB5B,OAAQA,EAAQS,aAAcA,IACtD,4CACA,8BAAMI,EAAQgB,gBAdtB,cAACC,EAAA,EAAD,KCDGC,EAVC,SAAC3E,GACb,OACI,sBAAKC,UAAU,cAAf,UACI,cAAC,EAAD,CAAawD,QAASzD,EAAMyD,QAASxD,UAAWC,IAAQ0E,oBACpDhC,OAAQ5C,EAAM4C,OAAQS,aAAcrD,EAAMqD,aAC1CK,QAAS1D,EAAM0D,QAASC,UAAW3D,EAAM2D,YAC7C,cAAC,EAAD,QCDNkB,E,oKACF,WACI,IAAIC,EAASC,KAAK/E,MAAMgF,MAAMC,OAAOC,OAChCJ,IACDA,EAASC,KAAK/E,MAAMmF,kBAExBJ,KAAK/E,MAAMoF,KAAKN,GAChBC,KAAK/E,MAAMqF,UAAUP,K,+BAEzB,WACIC,KAAKO,mB,gCAET,SAAmBC,EAAWC,GACvBT,KAAK/E,MAAMgF,MAAMC,OAAOC,SAAWK,EAAUP,MAAMC,OAAOC,QACzDH,KAAKO,mB,oBAEb,WACI,OACI,8BACI,cAAC,EAAD,2BAAaP,KAAK/E,OAAlB,IAAyByD,QAASsB,KAAK/E,MAAMyD,QACzCb,OAAQmC,KAAK/E,MAAM4C,OAAQS,aAAc0B,KAAK/E,MAAMqD,aACpDK,SAAUqB,KAAK/E,MAAMgF,MAAMC,OAAOC,OAAQvB,UAAWoB,KAAK/E,MAAM2D,mB,GArBrD8B,IAAMC,WAkCtBC,sBACXtD,aARkB,SAACC,GAAD,MAAY,CAC9BmB,QAASnB,EAAMC,YAAYkB,QAC3Bb,OAAQN,EAAMC,YAAYK,OAC1BuC,iBAAkB7C,EAAMsD,KAAKd,OAC7Be,OAAQvD,EAAMsD,KAAKC,UAIM,CAAET,SAAMC,cAAWhC,iBAAcM,gBAC1DmC,IACAC,IAHWJ,CAIbd","file":"static/js/4.d686501b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__2GpXQ\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__B_MVT\",\"userName\":\"ProfileInfo_userName__2EWdc\",\"photoUser\":\"ProfileInfo_photoUser__20LnI\",\"aboutUser\":\"ProfileInfo_aboutUser__2gw2h\",\"fieldStatus\":\"ProfileInfo_fieldStatus__2V4j4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__35GIG\",\"posts\":\"MyPosts_posts__2EkbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1ReU8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"classForProfileInfo\":\"Profile_classForProfileInfo__3yPKH\"};","import classes from './Post.module.css';\nconst Post = (props) => {\n    return (\n        <div className={classes.item}>\n            <img src='https://static.thenounproject.com/png/801390-200.png' />\n            {props.message}\n            <div>\n                <span>{props.quantityLikes} like</span>\n            </div>\n        </div>\n    )\n}\nexport default Post;","import React from 'react';\nimport classes from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport { reduxForm, Field, reset } from \"redux-form\";\nimport { required, maxLengthCreator } from '../../../Utils/Validators/Validator';\nimport { Textarea } from '../../Common/FormsControls/FormsControls';\n\nconst MyPosts = (props) => {\n    let postsElements = [...props.posts].reverse().map(p => (\n        <Post message={p.message} quantityLikes={p.likesCount} key={p.id} />));\n    let addNewPost = (values, dispatch) => {\n        let text = values.newPostText;\n        dispatch(reset(\"ProfileNewPostReduxForm\"));\n        props.addPost(text);\n    }\n    return (\n        <div className={classes.postsBlock}>\n            <h3>My posts</h3>\n            <AddPostReduxForm onSubmit={addNewPost}/>\n            <div className={classes.posts}>\n                {postsElements}\n            </div>\n        </div>\n    )\n}\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddPost = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} name=\"newPostText\" placeholder=\"Input text\"\n                    validate={[required, maxLength10]}/>\n            </div>\n            <div>\n                <button>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst AddPostReduxForm = reduxForm({\n    form: 'ProfileNewPostReduxForm'\n})(AddPost)\n\nexport default MyPosts;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { addPost } from '../../../redux/profileReducer';\nimport MyPosts from './MyPosts';\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\n\nexport default MyPostsContainer;","import React, {useEffect, useState} from \"react\";\nimport classes from './ProfileInfo.module.css';\n\nconst ProfileStatusWithHooks = (props) => {\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n    const activatedEditMode = () => {\n        setEditMode(true);\n    }\n    const deactivatedEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n    return (\n        <div>\n            Status\n            {!editMode\n                ? <div>\n                    <div className={classes.fieldStatus} onDoubleClick={activatedEditMode} >{props.status}</div>\n                </div>\n                : <div>\n                    <input onChange={onStatusChange} autoFocus={true} value={status} onBlur={deactivatedEditMode} />\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from \"react\";\nimport classes from './ProfileInfo.module.css';\nimport DefaultIcon from './../../../icons/default_icon_user.png';\nimport Preloader from '../../Common/Preloader/Preloader';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\n\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto}) => {\n    const onMainPhotoSelected = (e) => {\n        if(e.target.files.length) {\n            savePhoto(e.target.files[0])\n        }\n    }\n    if (!profile) {\n        return (\n            <Preloader />\n        )\n    }\n    else {\n        return (\n            <div className={classes.profileInfo}>\n                <div className={classes.descriptionBlock}>\n                    <img src={profile.photos.small != null ? profile.photos.small : DefaultIcon} className={classes.photoUser}/>\n                    <div className={classes.userName}>{profile.fullName}</div>\n                    {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n                </div>\n                <div className={classes.aboutUser}>\n                    <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n                    <div>About Me:</div>\n                    <div>{profile.aboutMe}</div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ProfileInfo;","import MyPostsContainer from './MyPosts/MyPostsContainer';\nimport classes from './Profile.module.css';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nconst Profile = (props) => {\n    return (\n        <div className=\"mainContent\">\n            <ProfileInfo profile={props.profile} className={classes.classForProfileInfo}\n                status={props.status} updateStatus={props.updateStatus} \n                isOwner={props.isOwner} savePhoto={props.savePhoto}/>\n            <MyPostsContainer/>\n        </div>\n    )\n}\nexport default Profile;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport { user, updateStatus, getStatus, savePhoto } from '../../redux/profileReducer';\nimport { WithAuthRedirect } from '../HOC/WithAuthRedirect';\nimport Profile from './Profile';\n\nclass ProfileContainer extends React.Component {\n    refreshProfile() {\n        let userId = this.props.match.params.userID;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n        }\n        this.props.user(userId);\n        this.props.getStatus(userId);\n    }\n    componentDidMount() {\n        this.refreshProfile();\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if(this.props.match.params.userID !== prevProps.match.params.userID)\n            this.refreshProfile();\n    }\n    render() {\n        return (\n            <div>\n                <Profile {...this.props} profile={this.props.profile} \n                    status={this.props.status} updateStatus={this.props.updateStatus}\n                    isOwner={!this.props.match.params.userID} savePhoto={this.props.savePhoto}/>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\nexport default compose(\n    connect(mapStateToProps, { user, getStatus, updateStatus, savePhoto }),\n    withRouter,\n    WithAuthRedirect\n)(ProfileContainer);"],"sourceRoot":""}